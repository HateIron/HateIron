#<center>centos configure</center>

<span id='jump'></span>

[TOC]

## 一、CentOS IP 配置（virtual box 中为桥接网卡，混杂模式为拒绝，接入网线复选框选中）

```shell
#vi /etc/sysconfig/network-script/ifcfg-eth0
DEVICE=eth0
BOOTPROTO=static
HWADDR=;#这里是相应网卡的物理地址，通常如果检查到网卡的话就不用输入了
ONBOOT=yes
IPADDR=192.168.1.123
NETRMASK=255.255.255.0
NETWORK=192.168.1.0
BROADCAST=192.168.1.255
GATEWAY=192.168.1.254
```

##二、重启网络

```shell
#/sbin/service network restart
#/etc/init.d/network reload
```

##三、一句话配置IP

```shell
# ifconfig eth0 192.168.1.12 netmask 255.255.255.0 up
```

##四、网关修改

```shell
# route add default gw 192.168.1.2
# route del default gw 192.168.32.1

不加这一句导致拼不通外网，浪费许多时间：
	route add default gw 192.168.43.1
```

##五、打开/关闭网关

```shell
# ifconfig eth0 up
# ifconfig eth0 down
```

##六、编辑DNS

```shell
# vi /etc/resolv.conf
# nameserver 61.147.37.1
# nameserver 61.177.7.1

一般配置为下面内容后，虚拟机即可以连接 baidu.com
vi /etc/resolv.conf 
nameserver 8.8.8.8
nameserver 8.8.4.4
```

##七、编辑网关

```shell
# vi /etc/sysconfig/network
NETWORKING=yes
HOSTNAME=vmlinux
GATEWAY=192.168.1.254
```

##八、[smb.conf](http://hateiron.coding.me/2017-12/smb.conf) 标准配置

```shell
[global]
dos charset = GB2312
unix charset = GB2312
display charset = GB2312
directory mask = 0777
force directory mode = 0777
directory security mask = 0777
force directory security mode = 0777
create mask = 0777
force create mode = 0777
security mask = 0777
force security mode = 0777
workgroup = homedir
netbios = homedir
server string = linux samba server
security = user
username map = /etc/samba/smbusers

[WishCell]
    path = /home/WishCell
    browseable = yes
    security = share
    writeable = yes
    valid users = WishCell
    create mode = 0777
    force create mode = 0777
    force directory mode = 0777
```

##九、关闭防火墙，重启 samba

```shell
# setenforce 0
# sudo systemctl stop firewall.service && sudo systemctl disable firewall.service
# systemctl status smb.service
```

##十、创建新用户，并为其设置 samba

```shell
# useradd WishCell   //如果不满意，删除之：userdel WishCell
# passwd WishCell    //设置密码
# smbpasswd -a WishCell //设置 samba
# 然后编辑 /etc/samba/smb.conf
```



## 十一、vsfptd 配置



##十二、无网络情况下，CentOS7如何安装最新 Firefox

###1、首先到官网上下载最新的 Linux相应版本

> 官网`http://www.firefox.com.cn/download#more`
>
> 我是 CentOS7 x86_64环境，选择`linux 64-bit 中文版`，然后下载到相应的安装包
>
> [Firefox-latest-x86_64.tar.bz2](http://download.csdn.net/download/u013752213/10241228)

### 2、具体安装步骤

>####A、下载Linux版本的Firefox，因为我的是64位故选择的安装包是：”Firefox-latest-x86_64.tar.bz2“。
>
>#### B、解压之
>
>```shell
># tar -xf Firefox-latest-x86_64.tar.bz2
># cd firefox
>```
>
>#### C、删除系统默认安装的 firefox，通常位于 `/usr/lib64`下
>
>```shell
># rm /usr/lib64/firefox -rf
>```
>
>#### D、将当前新版 `firefox` 子目录复制到`/usr/lib64`目录下
>
>```shell
># cp ./firefox /usr/lib64
>```
>
>#### E、进入`/usr/bin`，删除其下的 `firefox` 脚本
>
>```shell
># cd /usr/bin
># rm firefox -rf
>```
>
>#### F、回到主目录或者根目录，创建一个软链接，指向 `/usr/lib64/firefox/firefox`
>
>```shell
># cd 
># ln -s /usr/lib64/firefox/firefox /usr/bin/firefox
>```
>
>#### G、查看最新版本
>
>```shell
># firefox -v
>```
>
>

## 十三、CentOS 7 下面安装极点五笔

> ###1、从百度网盘下载一份极点五笔的 `linux`安装包
>
> ### 2、解压之，得到三个文件
>
> ```shell
> #ls
> vissible.db
> vissible.gif
> vissible.txt
> # su root
> # cp vissible.db  /usr/share/ibus-table/tables
> # cp vissible.gif /usr/share/ibus-table/icons
> ```
>
> ###3、具体界面操作
>
> 右击右上角的输入法图标，弹出一对话框，选择`Region & Language Settings`，然后在 `imput source `下点击加号，找到极点五笔
>
> ### 4、将无用重复的中文/英文选项删除，保持清爽
>
> ### 5、输入法切换
>
> ​    默认输入法的切换快捷键为 'supper + space'，实际上 supper 键就是  win 键

## 十四、虚拟机在切换网络时，怎样实时修改IP

```powershell
[wishcell@localhost ~]$ cat /readme
ifconfig enp0s3 192.168.43.222 netmask 255.255.255.0 up
ifconfig enp0s3 192.168.1.222 netmask 255.255.255.0 up

vim /etc/resolv.conf
vim /etc/sysconfig/network-scripts/ifcfg-enp0s3
service network restart
```



## 十五、PC更改网络后，怎样配通继续上网

```powershell
配置网关、路由
[root@localhost conf]# vim /etc/resolv.conf

其内容如下：
# Generated by NetworkManager
nameserver 8.8.8.8
nameserver 8.8.4.4


更多配置：
[root@localhost conf]# vim /etc/sysconfig/network-scripts/ifcfg-enp0s3
内容如下：
TYPE=Ethernet
DEVICE=enp0s3
ONBOOT=yes
BOOTPROTO=static
IPADDR=192.168.1.222
NETMASK=255.255.255.0
NETWORK=192.168.1.0
BROADCAST=192.168.1.255
GATEWAY=192.168.43.1

# IPADDR=192.168.43.222
# NETMASK=255.255.255.0
# NETWORK=192.168.43.0
# BROADCAST=192.168.43.255
# GATEWAY=192.168.43.1

DNS1=8.8.8.8
DNS2=8.8.4.4


配置完成之后，验证网络
[root@localhost conf]# ping www.baidu.com
ping: www.baidu.com: Name or service not known

网络不通，需要重启网络：
[root@localhost conf]# systemctl restart network
```

#十六、 centos-everthing资源

##1、先下载到资源

```powershell
http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Everything-1708.iso
```

<iframe src="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Everything-1708.iso" width="900px" height="400px" scrolling="yes" boarder="3px"></iframe>

##2、用法

```powershell
# mount -o /packages/CentOS-Everything.iso /mnt/cdrom

# vim /etc/yum.repos.d/CentOS-media.repo

name = [随便]
baseurl = file:///mount/cdrom
gpgcheck= 1
enabled = 1

解除光盘绑定
#unmount /mnt/cdrom
```

##3、安装 CCache

```powershell
yum install ccache
报错，要求导入公钥：
	rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
```





# 十七、JDK1.8资源

## 1、找到 jfd1.80_31 

## 2、御载系统原生 openJDK

```powershell
先查询 
# rpm -qa | grep java
然后御载
# rpm -e --nodeps tzdata-java-2014b-1.el7.noarch            |
# rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.71...   |  这些都是查到的包
# rpm -e --nodeps java-1.7.0-openjdk-1.7.0.71...            |
```

## 3、安装新的 JDK1.80_31

```powershell
# mkdir -p /usr/lib/jvm
# tar -zxvf jdk1.8.0_31.tar.gz -C /usr/lib/jvm

然后设置环境变量  vim /etc/profile 增加几行：
export JAVA_HOME = /usr/lib/jvm/jdk1.8.0_31
export JRE_HOME  = ${JAVA_HOME}/jre
export CLASSPATH = .:${JAVA_HOME}/lib:${JRE_HOME}/lib
export PATH      = ${JAVA_HOME}/bin:$PATH
```

# 十八、CentOS 下安装 SecureCRT

## 1、找到安装包

```powershell
都需要到网上查找，下载：
scrt-7.3.3-779-rhelb-64.x86_64.rpm
配置脚本：
	securecrt_crack.pl 
```

# 十九、开机启动命令

```powershell
[wishcell@localhost ~]$ vim /etc/rc.d/rc.local
[wishcell@localhost ~]$
#!/bin/bash
# THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES
#
# It is highly advisable to create own systemd services or udev rules
# to run scripts during boot instead of using this file.
#
# In contrast to previous versions due to parallel execution during boot
# this script will NOT be run after all other services.
#
# Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure
# that this script will be executed during boot.

touch /var/lock/subsys/local

# 默认以 root 运行程序
/usr/local/nginx/sbin/nginx

# 指定用户启动程序，但是似乎不生效
/bin/su - wishcell -C "svnserve -d -r /home1/wishcell/svndata/"

# 最后，要给程序可执行权限 ： chmod +x /etc/rc.d/rc.local
```







