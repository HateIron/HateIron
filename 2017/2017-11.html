<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>2017-11.md</title><link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}.CodeMirror { height: auto; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; }
.CodeMirror-lines { padding: 4px 0px; }
.CodeMirror pre { }
.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { background-color: white; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background-color: rgb(247, 247, 247); white-space: nowrap; }
.CodeMirror-linenumbers { }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.CodeMirror div.CodeMirror-cursor { border-left: 1px solid black; z-index: 3; }
.CodeMirror div.CodeMirror-secondarycursor { border-left: 1px solid silver; }
.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor { width: auto; border: 0px; background: rgb(119, 238, 119); z-index: 1; }
.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite { }
.cm-tab { display: inline-block; }
.cm-s-typora-default .cm-header, .cm-s-typora-default .cm-property { color: rgb(217, 79, 138); }
.cm-s-typora-default pre.cm-header1:not(.cm-atom) :not(.cm-overlay) { font-size: 2rem; line-height: 2rem; }
.cm-s-typora-default pre.cm-header2:not(.cm-atom) :not(.cm-overlay) { font-size: 1.4rem; line-height: 1.4rem; }
.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number { color: rgb(149, 132, 134); }
.cm-s-typora-default .cm-table-row, .cm-s-typora-default .cm-block-start { font-family: monospace; }
.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code { color: rgb(74, 90, 159); font-family: monospace; }
.cm-s-typora-default .cm-tag { color: rgb(169, 68, 66); }
.cm-s-typora-default .cm-string { color: rgb(126, 134, 169); }
.cm-s-typora-default .cm-link { color: rgb(196, 122, 15); text-decoration: underline; }
.cm-s-typora-default .cm-variable-2, .cm-s-typora-default .cm-variable-1 { color: inherit; }
.cm-s-typora-default .cm-overlay { font-family: monospace; }
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor { border-left: 3px solid rgb(228, 98, 154); }
.cm-s-typora-default .CodeMirror-activeline-background { left: -60px; right: -30px; background: rgba(204, 204, 204, 0.2); }
.cm-s-typora-default .CodeMirror-gutters { border-right: none; background-color: inherit; }
.cm-s-typora-default .cm-trailing-space-new-line::after, .cm-startspace::after, .cm-starttab .cm-tab::after { content: "•"; position: absolute; left: 0px; opacity: 0; font-family: LetterGothicStd, monospace; }
.os-windows .cm-startspace::after, .os-windows .cm-starttab .cm-tab::after { left: -0.1em; }
.cm-starttab .cm-tab::after { content: " "; }
.cm-startspace, .cm-tab, .cm-starttab, .cm-trailing-space-a, .cm-trailing-space-b, .cm-trailing-space-new-line { font-family: monospace; position: relative; }
.cm-s-typora-default .cm-trailing-space-new-line::after { content: "↓"; opacity: 0.3; }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: black; }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-property { color: black; }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: blue; }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: bold; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: rgb(255, 0, 0); }
.cm-invalidchar { color: rgb(255, 0, 0); }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { margin-bottom: -30px; margin-right: -30px; padding-bottom: 30px; padding-right: 30px; height: 100%; outline: none; position: relative; box-sizing: content-box; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow-x: hidden; overflow-y: scroll; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow-y: hidden; overflow-x: scroll; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: none !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: transparent; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-widget { }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.CodeMirror-selected { background: rgb(217, 217, 217); }
.CodeMirror-focused .CodeMirror-selected { background: rgb(215, 212, 240); }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
.CodeMirror span { }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}
.CodeMirror-lint-markers { width: 16px; }
.CodeMirror-lint-tooltip { background-color: infobackground; border: 1px solid black; border-radius: 4px; color: infotext; font-family: monospace; overflow: hidden; padding: 2px 5px; position: fixed; white-space: pre-wrap; z-index: 10000; max-width: 600px; opacity: 0; transition: opacity 0.4s; font-size: 0.8em; }
.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning { background-position: left bottom; background-repeat: repeat-x; }
.CodeMirror-lint-mark-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg=="); }
.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning { background-position: center center; background-repeat: no-repeat; cursor: pointer; display: inline-block; height: 16px; width: 16px; vertical-align: middle; position: relative; }
.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning { padding-left: 18px; background-position: left top; background-repeat: no-repeat; }
.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII="); }
.CodeMirror-lint-marker-multiple { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC"); background-repeat: no-repeat; background-position: right bottom; width: 100%; height: 100%; }


:root { --bg-color: #ffffff; --text-color: #333333; --code-block-bg-color: inherit; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background: rgb(181, 214, 252); text-shadow: none; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: visible; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write > p:first-child, #write > ul:first-child, #write > ol:first-child, #write > pre:first-child, #write > blockquote:first-child, #write > div:first-child, #write > table:first-child { margin-top: 30px; }
#write li > table:first-child { margin-top: -20px; }
img { max-width: 100%; vertical-align: middle; }
input, button, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.typora-export p { white-space: normal; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
#write > figure:first-child { margin-top: 16px; }
figure { overflow-x: auto; margin: -8px 0px 0px -8px; max-width: calc(100% + 16px); padding: 8px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: var(--code-block-bg-color); position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.CodeMirror-line { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print {
  html, body { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > img:only-child { display: block; margin: auto; }
p .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
.md-tag { opacity: 0.5; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: monospace; }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-print-anchor { border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background: transparent !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; }


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: normal; src: local("Open Sans Regular"), url("./github/400.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: normal; src: local("Open Sans Italic"), url("./github/400i.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: normal; font-weight: bold; src: local("Open Sans Bold"), url("./github/700.woff") format("woff"); }
@font-face { font-family: "Open Sans"; font-style: italic; font-weight: bold; src: local("Open Sans Bold Italic"), url("./github/700i.woff") format("woff"); }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border-width: 0px 0px 1px; border-style: none none solid; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; overflow: hidden; box-sizing: content-box; border-bottom-color: rgb(221, 221, 221); }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(221, 221, 221); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(204, 204, 204); margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); }
.md-fences, code, tt { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; }
.task-list { padding-left: 0px; }
.task-list-item { padding-left: 32px; }
.task-list-item input { top: 3px; left: 8px; }
@media screen and (min-width: 914px) {
}
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border: 1px solid rgb(221, 221, 221); border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 4px 0px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }






</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-node'><h1><a name='header-n0' class='md-header-anchor '></a>2017-11月</h1><h2><a name='header-n2' class='md-header-anchor '></a><a href='./2017-10.html'>上月</a>                                                       <a href='./2017-12.html'>下月</a><span id="jump"></span></h2><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="n0"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n0">2017-11月</a></span><span class="md-toc-item md-toc-h2" data-ref="n2"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2">上月                                                       下月</a></span><span class="md-toc-item md-toc-h2" data-ref="n4"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4">一、2017-11-01</a></span><span class="md-toc-item md-toc-h2" data-ref="n5"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5">今日终于解决 cppcheck 屏蔽单个函数报错问题</a></span><span class="md-toc-item md-toc-h3" data-ref="n6"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n6">1、下载到 cppcheck 包，解压后，直接 make &amp;&amp; make install</a></span><span class="md-toc-item md-toc-h2" data-ref="n8"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n8">2、对C代码进行检测</a></span><span class="md-toc-item md-toc-h3" data-ref="n10"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n10">在不使用 <code>--inline-suppr</code>关键字之前，检测效果：</a></span><span class="md-toc-item md-toc-h4" data-ref="n12"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n12">得到两个内存错误<code>id="memleak"</code> 和<code>id="leakReturnValNotUsed"</code></a></span><span class="md-toc-item md-toc-h4" data-ref="n13"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n13">加上关键字 <code>--inline-suppr</code> 之后，代码中的 <code>cppcheck-suppress</code>立即生效：</a></span><span class="md-toc-item md-toc-h3" data-ref="n15"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n15">3、需要将安装目录的 cfg 目录 copy 到被检测目录。到少要将 cfg/std.cfg 复制过来。否则报错说找不到 std.cfg</a></span><span class="md-toc-item md-toc-h3" data-ref="n16"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n16">4、忽略某些目录，不检测的方法</a></span><span class="md-toc-item md-toc-h4" data-ref="n18"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n18">5、将 cppcheck 结果转化为 html 格式</a></span><span class="md-toc-item md-toc-h3" data-ref="n22"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n22">[22:09]终于找到一条临时策略，比之前方案略好</a></span><span class="md-toc-item md-toc-h4" data-ref="n23"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n23">FTP服务器`性能不错,PC端使用 filezilla，连接 android 服务器很流畅，不卡。</a></span><span class="md-toc-item md-toc-h2" data-ref="n28"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n28">[22:33]本想用  list.py 解决文件不连续问题，但是遇到了可怕的问题：</a></span><span class="md-toc-item md-toc-h2" data-ref="n35"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n35">三、vim 字符串替换</a></span><span class="md-toc-item md-toc-h3" data-ref="n36"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n36">替换之前的文本样子</a></span><span class="md-toc-item md-toc-h3" data-ref="n39"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n39">输入如下内容，回车后即执行替换操作</a></span><span class="md-toc-item md-toc-h3" data-ref="n42"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n42">替换之后的效果为</a></span><span class="md-toc-item md-toc-h2" data-ref="n45"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n45">四、Makefile 中创建临时的依赖目录</a></span><span class="md-toc-item md-toc-h2" data-ref="n48"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n48">五、sed首行插入</a></span><span class="md-toc-item md-toc-h3" data-ref="n49"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n49">1、进行 sed 插入实验之前的文本样子</a></span><span class="md-toc-item md-toc-h3" data-ref="n52"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n52">2、输入如下命令，文件每行行首插入内容</a></span><span class="md-toc-item md-toc-h3" data-ref="n55"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n55">3、只是将替换结果打印在屏幕，文件内容没有变化，这样保存</a></span><span class="md-toc-item md-toc-h3" data-ref="n58"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n58"><img src="file://E:/study/web-server/shttpd/src/web/daily_work/2017/2017-11/vim_insert_and_save.png" alt=""></a></span><span class="md-toc-item md-toc-h2" data-ref="n61"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n61">六、文件行尾追加内容</a></span><span class="md-toc-item md-toc-h2" data-ref="n66"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n66">七、同时在文本行首和行尾插入内容</a></span><span class="md-toc-item md-toc-h2" data-ref="n75"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n75">八、在第一行前面插入，即新插入第一行</a></span><span class="md-toc-item md-toc-h2" data-ref="n82"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n82">九、在文件最后追加一行</a></span><span class="md-toc-item md-toc-h2" data-ref="n89"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n89">十、curl 上传文件</a></span><span class="md-toc-item md-toc-h2" data-ref="n93"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n93">十一、curl 删除服务器文件</a></span><span class="md-toc-item md-toc-h2" data-ref="n95"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n95">十二、字符串加工</a></span><span class="md-toc-item md-toc-h2" data-ref="n97"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n97">十三、git 删除整个目录</a></span><span class="md-toc-item md-toc-h2" data-ref="n102"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n102">十四、cppcheck配合C代码的规则</a></span><span class="md-toc-item md-toc-h2" data-ref="n108"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n108">十五、svn删除整个目录</a></span><span class="md-toc-item md-toc-h2" data-ref="n110"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n110">十六、 gtest更加精减，makefile 更加精减</a></span><span class="md-toc-item md-toc-h1" data-ref="n121"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n121">2017-11-06</a></span><span class="md-toc-item md-toc-h2" data-ref="n122"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n122">一、elog gtest异步 test case，不能在 case 后面直接进行 destroy，因为不确定 buffer中的内容是否已经打印完毕</a></span><span class="md-toc-item md-toc-h2" data-ref="n126"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n126">二、vim 怎样跳到函数头/尾</a></span><span class="md-toc-item md-toc-h2" data-ref="n132"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n132">三、 grep 的玩法</a></span><span class="md-toc-item md-toc-h2" data-ref="n147"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n147">四、shell 得到精确的时间，纳秒级</a></span><span class="md-toc-item md-toc-h2" data-ref="n152"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n152">五、putty 小工具，连接 ssh 小巧方便，只是不够强大</a></span><span class="md-toc-item md-toc-h2" data-ref="n153"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n153">六、windows 上一个播放 wav 的小程序</a></span><span class="md-toc-item md-toc-h1" data-ref="n160"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n160">2017-11-17</a></span><span class="md-toc-item md-toc-h2" data-ref="n161"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n161">[4:39]一大早研究 docker，费了好大力气,终于开局</a></span><span class="md-toc-item md-toc-h2" data-ref="n191"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n191">[6:15]在网站https://hub.docker.com/上注册成功</a></span><span class="md-toc-item md-toc-h1" data-ref="n199"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n199">2017-11-19</a></span><span class="md-toc-item md-toc-h2" data-ref="n200"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n200">[22:06]shttpd确实是人家作者提供了现成的接口</a></span><span class="md-toc-item md-toc-h2" data-ref="n203"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n203">grep 查找的一个小技巧</a></span><span class="md-toc-item md-toc-h2" data-ref="n208"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n208">linux 安装 snmp原来很简单</a></span><span class="md-toc-item md-toc-h2" data-ref="n216"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n216">linux 下安装 net-snmp的方法</a></span><span class="md-toc-item md-toc-h2" data-ref="n234"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n234">[22:47]一个bitmap的实现，比特表数组</a></span><span class="md-toc-item md-toc-h2" data-ref="n242"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n242">23:02 得到人家一份加密算法共享代码</a></span><span class="md-toc-item md-toc-h2" data-ref="n248"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n248">[23:04]精心制作的字符操作脚本</a></span><span class="md-toc-item md-toc-h3" data-ref="n249"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n249">欲将搜索命令</a></span><span class="md-toc-item md-toc-h3" data-ref="n251"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n251">做成通用命令 replace.sh</a></span><span class="md-toc-item md-toc-h2" data-ref="n257"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n257">[23:12]人家写的 bootstrap css 实现表格可增删功能</a></span><span class="md-toc-item md-toc-h1" data-ref="n264"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n264">2017-11-20</a></span><span class="md-toc-item md-toc-h2" data-ref="n265"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n265">struct 中定义union 变量</a></span><span class="md-toc-item md-toc-h3" data-ref="n268"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n268">使用 vimdiff 查看到的结果：</a></span><span class="md-toc-item md-toc-h2" data-ref="n273"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n273">[21:15]讲述net-snmp agent 开发的例子,甚详</a></span><span class="md-toc-item md-toc-h1" data-ref="n278"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n278">2017-11-23</a></span><span class="md-toc-item md-toc-h2" data-ref="n279"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n279">[22:17] go语言安装</a></span><span class="md-toc-item md-toc-h2" data-ref="n298"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n298">[22:22] ngrok 自己用源码搭建</a></span><span class="md-toc-item md-toc-h1" data-ref="n312"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n312">2017-11-25</a></span><span class="md-toc-item md-toc-h2" data-ref="n313"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n313">[21:03]孙悟空网http://www.72swk.com/task_list-indus_pid-469-page-2.html</a></span><span class="md-toc-item md-toc-h1" data-ref="n318"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n318">2017-11-26</a></span><span class="md-toc-item md-toc-h2" data-ref="n319"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n319">[10:00]成功将家中电脑 web-server101.45.176.37部署到外网</a></span><span class="md-toc-item md-toc-h2" data-ref="n363"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n363">[10:52]搭建自己 ngrok 的文档，相对比较完整</a></span><span class="md-toc-item md-toc-h2" data-ref="n369"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n369">[20:20]13时许出门，然后直接去公司，将代码优化一下</a></span><span class="md-toc-item md-toc-h1" data-ref="n372"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n372">2017-11-29</a></span><span class="md-toc-item md-toc-h2" data-ref="n373"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n373">[20:46]今日学习内容， valgrind --tool=massif --stacks=yes ./ut</a></span><span class="md-toc-item md-toc-h2" data-ref="n395"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n395">上月                           顶部                                   下月</a></span></p></div><h2><a name='header-n4' class='md-header-anchor '></a>一、2017-11-01</h2><h2><a name='header-n5' class='md-header-anchor '></a>今日终于解决 <a href='2017-11/cppcheck-master.zip'>cppcheck</a> 屏蔽单个函数报错问题</h2><h3><a name='header-n6' class='md-header-anchor '></a>1、下载到 cppcheck 包，解压后，直接 make &amp;&amp; make install</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">debian  安装 cppcheck</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># apt-get install cmake</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># cmake .</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># make &amp;&amp; make install</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 145px;"></div></div></div></pre><h2><a name='header-n8' class='md-header-anchor '></a>2、对C代码进行检测</h2><pre class="md-fences md-end-block" lang="c" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;stdio.h&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">my_malloc</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">p</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span>)<span class="cm-variable">malloc</span>(<span class="cm-number">32</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">p</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">test_leak</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">p2</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span>)<span class="cm-variable">malloc</span>(<span class="cm-number">32</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//cppcheck-suppress memleak</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//cppcheck-suppress leakReturnValNotUsed</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">my_malloc</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">test_leak</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 506px;"></div><div class="CodeMirror-gutters" style="display: none; height: 536px;"></div></div></div></pre><h3><a name='header-n10' class='md-header-anchor '></a>在不使用 <code>--inline-suppr</code>关键字之前，检测效果：</h3><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[wishcell@localhost test_cppcheck]<span class="cm-def">$ </span>/packages/cppcheck-master/cppcheck ./a.c <span class="cm-attribute">--xml-version</span><span class="cm-operator">=</span><span class="cm-number">2</span> &nbsp;  &lt;?xml <span class="cm-def">version</span><span class="cm-operator">=</span><span class="cm-string">"1.0"</span> <span class="cm-def">encoding</span><span class="cm-operator">=</span><span class="cm-string">"UTF-8"</span>?&gt;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;results <span class="cm-def">version</span><span class="cm-operator">=</span><span class="cm-string">"2"</span>&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;cppcheck <span class="cm-def">version</span><span class="cm-operator">=</span><span class="cm-string">"1.79 dev"</span>/&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;errors&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Checking a.c ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  &lt;error <span class="cm-def">id</span><span class="cm-operator">=</span><span class="cm-string">"memleak"</span> <span class="cm-def">severity</span><span class="cm-operator">=</span><span class="cm-string">"error"</span> <span class="cm-def">msg</span><span class="cm-operator">=</span><span class="cm-string">"Memory leak: p2"</span> <span class="cm-def">verbose</span><span class="cm-operator">=</span><span class="cm-string">"Memory leak: p2"</span> <span class="cm-def">cwe</span><span class="cm-operator">=</span><span class="cm-string">"401"</span>&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &lt;location <span class="cm-def">file</span><span class="cm-operator">=</span><span class="cm-string">"a.c"</span> <span class="cm-def">line</span><span class="cm-operator">=</span><span class="cm-string">"13"</span>/&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  &lt;/error&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  &lt;error <span class="cm-def">id</span><span class="cm-operator">=</span><span class="cm-string">"leakReturnValNotUsed"</span> <span class="cm-def">severity</span><span class="cm-operator">=</span><span class="cm-string">"error"</span> <span class="cm-def">msg</span><span class="cm-operator">=</span><span class="cm-string">"Return value of allocation function &amp;apos;my_malloc&amp;apos; is not stored."</span> <span class="cm-def">verbose</span><span class="cm-operator">=</span><span class="cm-string">"Return value of allocation function &amp;apos;my_malloc&amp;apos; is not stored."</span> <span class="cm-def">cwe</span><span class="cm-operator">=</span><span class="cm-string">"771"</span>&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &lt;location <span class="cm-def">file</span><span class="cm-operator">=</span><span class="cm-string">"a.c"</span> <span class="cm-def">line</span><span class="cm-operator">=</span><span class="cm-string">"18"</span>/&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  &lt;/error&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  &lt;/errors&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;/results&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[wishcell@localhost test_cppcheck]<span class="cm-def">$ </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 414px;"></div><div class="CodeMirror-gutters" style="display: none; height: 444px;"></div></div></div></pre><h4><a name='header-n12' class='md-header-anchor '></a>得到两个内存错误<code>id=&quot;memleak&quot;</code> 和<code>id=&quot;leakReturnValNotUsed&quot;</code></h4><h4><a name='header-n13' class='md-header-anchor '></a>加上关键字 <red><code>--inline-suppr</code></red> 之后，代码中的 <code>cppcheck-suppress</code>立即生效：</h4><pre class="md-fences md-end-block" lang="c"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-variable">wishcell@localhost</span> <span class="cm-variable">test_cppcheck</span>]<span class="cm-variable">$</span> <span class="cm-operator">/</span><span class="cm-variable">packages</span><span class="cm-operator">/</span><span class="cm-variable">cppcheck</span><span class="cm-operator">-</span><span class="cm-variable">master</span><span class="cm-operator">/</span><span class="cm-variable">cppcheck</span> <span class="cm-operator">--</span><span class="cm-variable">inline</span><span class="cm-operator">-</span><span class="cm-variable">suppr</span> .<span class="cm-operator">/</span><span class="cm-variable">a</span>.<span class="cm-variable">c</span> <span class="cm-operator">--</span><span class="cm-variable">xml</span><span class="cm-operator">-</span><span class="cm-variable">version</span><span class="cm-operator">=</span><span class="cm-number">2</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;?</span><span class="cm-variable">xml</span> <span class="cm-variable">version</span><span class="cm-operator">=</span><span class="cm-string">"1.0"</span> <span class="cm-variable">encoding</span><span class="cm-operator">=</span><span class="cm-string">"UTF-8"</span><span class="cm-operator">?&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-variable">results</span> <span class="cm-variable">version</span><span class="cm-operator">=</span><span class="cm-string">"2"</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-operator">&lt;</span><span class="cm-variable">cppcheck</span> <span class="cm-variable">version</span><span class="cm-operator">=</span><span class="cm-string">"1.79 dev"</span><span class="cm-operator">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-operator">&lt;</span><span class="cm-variable">errors</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Checking</span> <span class="cm-variable">a</span>.<span class="cm-variable">c</span> ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-operator">&lt;/</span><span class="cm-variable">errors</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;/</span><span class="cm-variable">results</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-variable">wishcell@localhost</span> <span class="cm-variable">test_cppcheck</span>]<span class="cm-variable">$</span> </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 260px;"></div></div></div></pre><h3><a name='header-n15' class='md-header-anchor '></a>3、需要将安装目录的 cfg 目录 copy 到被检测目录。到少要将 cfg/std.cfg 复制过来。否则报错说找不到 std.cfg</h3><h3><a name='header-n16' class='md-header-anchor '></a>4、忽略某些目录，不检测的方法</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cppcheck <span class="cm-attribute">-i</span>./dir1 <span class="cm-attribute">-i</span>./dir2 ../ &nbsp;<span class="cm-attribute">--inline-suppr</span> &nbsp;<span class="cm-attribute">--xml-version</span><span class="cm-operator">=</span><span class="cm-number">2</span>.0</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><h4><a name='header-n18' class='md-header-anchor '></a>5、将 cppcheck 结果转化为 html 格式</h4><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 改良输出</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cppcheck <span class="cm-attribute">--template</span><span class="cm-operator">=</span>vs path</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cppcheck <span class="cm-attribute">--template</span><span class="cm-operator">=</span><span class="cm-builtin">gcc</span> path</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cppcheck <span class="cm-attribute">--template</span><span class="cm-operator">=</span>{<span class="cm-string">"{file},{line},{severity},{id},{message}"</span>} &nbsp;<span class="cm-comment"># 这是自定义模式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 报告美化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">./cppcheck test.cpp <span class="cm-attribute">--xml-version</span><span class="cm-operator">=</span><span class="cm-number">2</span>.0 &gt; err.xml</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">debian@debian:~/study/c<span class="cm-def">$ </span>/packages/cppcheck-master/htmlreport/cppcheck-htmlreport <span class="cm-attribute">--file</span><span class="cm-operator">=</span>./err.xml <span class="cm-attribute">--report-dir</span><span class="cm-operator">=</span>./ReportDir <span class="cm-attribute">--source-dir</span><span class="cm-operator">=</span>./</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 其中的 --report-dir=./ReportDir 这个目录，可以事先没有，此命令自己会创造。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 或者直接把结果输出到 web 服务器上，直接可以访问</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># cppcheck -j4 ./ --xml-version=2.0 &gt; /nginx/html/prj_cppcheck/err.xml 2&gt;&amp;1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># cppcheck-htmlreport --file=/nginx/html/prj_cppcheck/err.xml --report-dir=/nginx/html/prj_cppcheck --source-dir=./ --source-encoding="iso8859-1"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">debian@debian:~/study/c<span class="cm-def">$ ls</span> ReportDir/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">index.html  stats.html  style.css</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 414px;"></div><div class="CodeMirror-gutters" style="display: none; height: 444px;"></div></div></div></pre><p>&nbsp;</p><h3><a name='header-n22' class='md-header-anchor '></a>[22:09]终于找到一条临时策略，比之前方案略好</h3><h4><a name='header-n23' class='md-header-anchor '></a>FTP服务器`性能不错,PC端使用 filezilla，连接 android 服务器很流畅，不卡。</h4><p><img src='2017-11/filezilla_and_android_FTP%E6%9C%8D%E5%8A%A1%E5%99%A8.png' alt='' /></p><p>&nbsp;</p><h2><a name='header-n28' class='md-header-anchor '></a>[22:33]本想用  <a href='2017-10-01/list.py'>list.py</a> 解决文件不连续问题，但是遇到了可怕的问题：</h2><blockquote><p>好端端的代码，被 markdown 转化成 html之后，看似很漂亮。但是直接 copy过去保存为 list.py，却不能正常运行，中间出现了许多奇怪的字符。需要十分小心</p></blockquote><pre class="md-fences md-end-block" lang="python" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#!C:\\Program Files\\Python27\\python.exe</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># -*- coding: utf-8 -*-</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">os</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">html</span> = (<span class="cm-string">'&lt;!DOCTYPE html&gt;\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-string">'\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-string">'&lt;html&gt;\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-string">'{navigation}\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-string">'&lt;/html&gt;\n'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">details_header</span> = (<span class="cm-string">'&lt;details class="menu" close&gt;\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-string">' &nbsp;  &lt;summary&gt;{content}&lt;/summary&gt;\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-string">' &nbsp;  &lt;ul&gt;\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp;<span class="cm-string">'\n'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">details_footer</span> = (<span class="cm-string">' &nbsp;  &lt;/ul&gt;\n&lt;/details&gt;\n'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">li</span> = <span class="cm-string">' &nbsp;  &lt;li&gt;&lt;a href = "{link}" target = "showframe"&gt; {content} &lt;/a&gt;&lt;/li&gt;\n'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">file_scan</span>(<span class="cm-variable">path</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">content</span> = <span class="cm-string">''</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">files</span> = <span class="cm-variable">os</span>.<span class="cm-property">listdir</span>(<span class="cm-variable">path</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> <span class="cm-variable">file</span> <span class="cm-keyword">in</span> <span class="cm-variable">files</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">file_path</span> = <span class="cm-variable">os</span>.<span class="cm-property">path</span>.<span class="cm-property">join</span>(<span class="cm-variable">path</span>,<span class="cm-variable">file</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-variable">os</span>.<span class="cm-property">path</span>.<span class="cm-property">isdir</span>(<span class="cm-variable">file_path</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">content</span> += <span class="cm-builtin">str</span>(<span class="cm-variable">details_header</span>).<span class="cm-property">format</span>(<span class="cm-variable">content</span>=<span class="cm-variable">file</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">content</span> += <span class="cm-variable">file_scan</span>(<span class="cm-variable">file_path</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">content</span> += <span class="cm-builtin">str</span>(<span class="cm-variable">details_footer</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">content</span> += <span class="cm-builtin">str</span>(<span class="cm-variable">li</span>).<span class="cm-property">format</span>(<span class="cm-variable">link</span>=<span class="cm-variable">file_path</span>, <span class="cm-variable">content</span>=<span class="cm-variable">file</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">print</span> <span class="cm-string">'--------------------------------------------------'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">print</span> <span class="cm-variable">path</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">print</span> <span class="cm-variable">content</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">content</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-variable">__name__</span> == <span class="cm-string">'__main__'</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">content</span> = <span class="cm-builtin">str</span>(<span class="cm-variable">details_header</span>).<span class="cm-property">format</span>(<span class="cm-variable">content</span>=<span class="cm-string">'root'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">content</span> += <span class="cm-variable">file_scan</span>(<span class="cm-string">'root'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">content</span> += <span class="cm-builtin">str</span>(<span class="cm-variable">details_footer</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">text</span> = <span class="cm-builtin">str</span>(<span class="cm-variable">html</span>).<span class="cm-property">format</span>(<span class="cm-variable">navigation</span>=<span class="cm-variable">content</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">with</span> <span class="cm-builtin">open</span>(<span class="cm-string">'navigation.html'</span>, <span class="cm-string">'w'</span>) <span class="cm-keyword">as</span> <span class="cm-variable">f</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">f</span>.<span class="cm-property">writelines</span>(<span class="cm-variable">text</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 989px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1019px;"></div></div></div></pre><p>&nbsp;</p><h2><a name='header-n35' class='md-header-anchor '></a>三、vim 字符串替换</h2><h3><a name='header-n36' class='md-header-anchor '></a>替换之前的文本样子</h3><p><img src='2017-11/before_substitude.png' alt='' /></p><h3><a name='header-n39' class='md-header-anchor '></a>输入如下内容，回车后即执行替换操作</h3><p><img src='2017-11/vim_substitute_cmd.png' alt='' /></p><h3><a name='header-n42' class='md-header-anchor '></a>替换之后的效果为</h3><p><img src='2017-11/vim_substitute_succ.png' alt='' /></p><h2><a name='header-n45' class='md-header-anchor '></a>四、Makefile 中创建临时的依赖目录</h2><p><img src='2017-11/Makefile_mkdir.png' alt='' /></p><h2><a name='header-n48' class='md-header-anchor '></a>五、sed首行插入</h2><h3><a name='header-n49' class='md-header-anchor '></a>1、进行 sed 插入实验之前的文本样子</h3><p><img src='2017-11/file_before_sed_insert.png' alt='' /></p><h3><a name='header-n52' class='md-header-anchor '></a>2、输入如下命令，文件每行行首插入内容</h3><p><img src='2017-11/sed_insert_head_cmd.png' alt='' /></p><h3><a name='header-n55' class='md-header-anchor '></a>3、只是将替换结果打印在屏幕，文件内容没有变化，这样保存</h3><blockquote><h4><a name='header-n57' class='md-header-anchor '></a><code>sed &#39;s/^/\&lt;li\&gt;/g&#39; ./a.c | tee b.c</code></h4></blockquote><h3><a name='header-n58' class='md-header-anchor '></a><img src='2017-11/vim_insert_and_save.png' alt='' /></h3><p>&nbsp;</p><h2><a name='header-n61' class='md-header-anchor '></a>六、文件行尾追加内容</h2><p><img src='2017-11/line_append_str.png' alt='' /></p><p>&nbsp;</p><h2><a name='header-n66' class='md-header-anchor '></a>七、同时在文本行首和行尾插入内容</h2><blockquote><h4><a name='header-n68' class='md-header-anchor '></a><code>sed &#39;/./{s/^/head_&amp;/;s/$/$_end/}&#39; ./a.c</code></h4></blockquote><p><img src='2017-11/insert_head_and_tail.png' alt='' /></p><blockquote><h4><a name='header-n72' class='md-header-anchor '></a>但是换一种写法<code>sed &#39;{s/^/head_&amp;/;s/$/$_end/}&#39; ./a.c</code>，屁股后面却多出一行</h4><p><img src='2017-11/sed_insert_head_and_tail2.png' alt='' /></p></blockquote><h2><a name='header-n75' class='md-header-anchor '></a>八、在第一行前面插入，即新插入第一行</h2><blockquote><h4><a name='header-n77' class='md-header-anchor '></a><code>sed -i &#39;1i\要插入的首行内容&#39; a.c</code></h4></blockquote><p><img src='2017-11/insert_first_line.png' alt='' /></p><p>&nbsp;</p><h2><a name='header-n82' class='md-header-anchor '></a>九、在文件最后追加一行</h2><blockquote><h4><a name='header-n84' class='md-header-anchor '></a><code>sed -i &#39;$a\要追加的文字&#39; a.c</code></h4></blockquote><p><img src='2017-11/append_to_last_line.png' alt='' /></p><p>&nbsp;</p><h2><a name='header-n89' class='md-header-anchor '></a>十、curl 上传文件</h2><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">curl -u eodn:111111 -T ./a.c ftp://10.63.180.93/</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p><img src='2017-11/curl_upload.png' alt='' /></p><h2><a name='header-n93' class='md-header-anchor '></a>十一、curl 删除服务器文件</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">curl</span> <span class="cm-attribute">-u</span> user:pwd <span class="cm-attribute">-X</span> <span class="cm-string">'dele addx.c'</span> ftp://10.63.180.93/</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><h2><a name='header-n95' class='md-header-anchor '></a>十二、字符串加工</h2><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@ unittest]<span class="cm-comment"># echo `grep -rn Author ./cmt`</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>:Author family.name &lt;family.name@xxx.xx.cn&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@ unittest]<span class="cm-comment"># echo `grep -rn Author ./cmt` | cut -c3-</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Author family.name &lt;family.name@xxx.xx.cn&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><h2><a name='header-n97' class='md-header-anchor '></a>十三、git 删除整个目录</h2><blockquote><h3><a name='header-n99' class='md-header-anchor '></a><code>[user @ src_prj]# git rm dir -r</code></h3></blockquote><p>&nbsp;</p><h2><a name='header-n102' class='md-header-anchor '></a>十四、cppcheck配合C代码的规则</h2><blockquote><h4><a name='header-n104' class='md-header-anchor '></a>cppcheck --inline-suppr dir/a.c --xml-version=2.0</h4><pre class="md-fences md-end-block" lang="c"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">func</span>()</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//cppcheck-suppress memleak</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 145px;"></div></div></div></pre></blockquote><p>&nbsp;</p><h2><a name='header-n108' class='md-header-anchor '></a>十五、svn删除整个目录</h2><pre class="md-fences md-end-block" lang=""> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@ unittest]svn del gtest-1.7.0/samples/</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">D &nbsp; &nbsp;  gtest-1.7.0/samples</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">D &nbsp; &nbsp;  gtest-1.7.0/samples/.deps</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">D &nbsp; &nbsp;  gtest-1.7.0/samples/.deps/.dirstamp</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><h2><a name='header-n110' class='md-header-anchor '></a>十六、 gtest更加精减，makefile 更加精减</h2><p><img src='2017-11/simplest_gmake_makefile.png' alt='' /></p><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GTEST_DIR <span class="cm-operator">=</span> ..</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">CPPFLAGS <span class="cm-operator">+=</span> <span class="cm-attribute">-isystem</span> <span class="cm-quote">$(GTEST_DIR)</span>/include</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">CXXFLAGS <span class="cm-operator">+=</span> <span class="cm-attribute">-g</span> <span class="cm-attribute">-Wall</span> <span class="cm-attribute">-Wextra</span> <span class="cm-attribute">-pthread</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">TESTS <span class="cm-operator">=</span> gtest.a</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GTEST_HEADERS <span class="cm-operator">=</span> <span class="cm-quote">$(GTEST_DIR)</span>/include/gtest/*.h \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-quote">$(GTEST_DIR)</span>/include/gtest/internal/*.h</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">all : <span class="cm-quote">$(TESTS)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">clean :</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">rm</span> <span class="cm-attribute">-f</span> <span class="cm-quote">$(TESTS)</span> gtest.a gtest_main.a *.o</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GTEST_SRCS_ <span class="cm-operator">=</span> <span class="cm-quote">$(GTEST_DIR)</span>/src/*.cc <span class="cm-quote">$(GTEST_DIR)</span>/src/*.h <span class="cm-quote">$(GTEST_HEADERS)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gtest-all.o : <span class="cm-quote">$(GTEST_SRCS_)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-quote">$(CXX)</span> <span class="cm-quote">$(CPPFLAGS)</span> <span class="cm-attribute">-I</span><span class="cm-quote">$(GTEST_DIR)</span> <span class="cm-quote">$(CXXFLAGS)</span> <span class="cm-attribute">-c</span> \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-quote">$(GTEST_DIR)</span>/src/gtest-all.cc</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gtest_main.o : <span class="cm-quote">$(GTEST_SRCS_)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-quote">$(CXX)</span> <span class="cm-quote">$(CPPFLAGS)</span> <span class="cm-attribute">-I</span><span class="cm-quote">$(GTEST_DIR)</span> <span class="cm-quote">$(CXXFLAGS)</span> <span class="cm-attribute">-c</span> \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-quote">$(GTEST_DIR)</span>/src/gtest_main.cc</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gtest.a : gtest-all.o</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-quote">$(AR)</span> <span class="cm-quote">$(ARFLAGS)</span> <span class="cm-def">$@</span> <span class="cm-def">$^</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">rm</span> ../include/gtest/internal/*.gch *.o <span class="cm-attribute">-rf</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 437px;"></div><div class="CodeMirror-gutters" style="display: none; height: 467px;"></div></div></div></pre><blockquote><h4><a name='header-n115' class='md-header-anchor '></a>gtest不带 main函数的 makefile,更加精减</h4></blockquote><p><img src='2017-11/gtest_makefile_no_main.png' alt='' /></p><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GTEST_DIR <span class="cm-operator">=</span> ..</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">CPPFLAGS <span class="cm-operator">+=</span> <span class="cm-attribute">-isystem</span> <span class="cm-quote">$(GTEST_DIR)</span>/include</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">CXXFLAGS <span class="cm-operator">+=</span> <span class="cm-attribute">-g</span> <span class="cm-attribute">-Wall</span> <span class="cm-attribute">-Wextra</span> <span class="cm-attribute">-pthread</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">TESTS <span class="cm-operator">=</span> gtest.a</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GTEST_HEADERS <span class="cm-operator">=</span> <span class="cm-quote">$(GTEST_DIR)</span>/include/gtest/*.h \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-quote">$(GTEST_DIR)</span>/include/gtest/internal/*.h</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">all : <span class="cm-quote">$(TESTS)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">clean :</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">rm</span> <span class="cm-attribute">-f</span> <span class="cm-quote">$(TESTS)</span> gtest.a gtest_main.a *.o</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">GTEST_SRCS_ <span class="cm-operator">=</span> <span class="cm-quote">$(GTEST_DIR)</span>/src/*.cc <span class="cm-quote">$(GTEST_DIR)</span>/src/*.h <span class="cm-quote">$(GTEST_HEADERS)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gtest-all.o : <span class="cm-quote">$(GTEST_SRCS_)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-quote">$(CXX)</span> <span class="cm-quote">$(CPPFLAGS)</span> <span class="cm-attribute">-I</span><span class="cm-quote">$(GTEST_DIR)</span> <span class="cm-quote">$(CXXFLAGS)</span> <span class="cm-attribute">-c</span> \</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-quote">$(GTEST_DIR)</span>/src/gtest-all.cc</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gtest.a : gtest-all.o</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-quote">$(AR)</span> <span class="cm-quote">$(ARFLAGS)</span> <span class="cm-def">$@</span> <span class="cm-def">$^</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">rm</span> ../include/gtest/internal/*.gch *.o <span class="cm-attribute">-rf</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 368px;"></div><div class="CodeMirror-gutters" style="display: none; height: 398px;"></div></div></div></pre><p>&nbsp;</p><h1><a name='header-n121' class='md-header-anchor '></a>2017-11-06</h1><h2><a name='header-n122' class='md-header-anchor '></a>一、elog gtest异步 test case，不能在 case 后面直接进行 destroy，因为不确定 buffer中的内容是否已经打印完毕</h2><pre class="md-fences md-end-block" lang="c"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">TEST</span>(<span class="cm-variable">logger</span>, <span class="cm-variable">logger</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">elog_init</span>(); <span class="cm-comment">//这里申请了内存，执行了 malloc 操作</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">log_a</span>(<span class="cm-string">"hello!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">log_e</span>(<span class="cm-string">"hello!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">log_e</span>(<span class="cm-string">"hello!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">log_d</span>(<span class="cm-string">"hello!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">log_v</span>(<span class="cm-string">"hello!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">log_raw</span>(<span class="cm-string">"hello!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">//elog_destroy(); //这是一个桩函数，里面对前面的malloc 空间进行 free</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">正确的做法是把</span> <span class="cm-def">elog_destroy</span>() <span class="cm-variable">在所有用例执行完毕后，再调用</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 306px;"></div></div></div></pre><p>&nbsp;</p><h2><a name='header-n126' class='md-header-anchor '></a>二、vim 怎样跳到函数头/尾</h2><blockquote><h3><a name='header-n128' class='md-header-anchor '></a>[[ 跳到函数头，对大函数十分有用</h3><h3><a name='header-n129' class='md-header-anchor '></a>]] 跳到函数尾</h3></blockquote><p>&nbsp;</p><h2><a name='header-n132' class='md-header-anchor '></a>三、 grep 的玩法</h2><blockquote><h4><a name='header-n134' class='md-header-anchor '></a>1、最简单的 grep str ./file</h4></blockquote><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@unittest]grep Author axx</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Author: user &lt;family.name@xxx.com.cn&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">-</span>// Author: axxb@google.com</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">-</span>// Author: axxb@google.com</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><blockquote><h4><a name='header-n137' class='md-header-anchor '></a>2、带上参数 -rn ,n 表示打印行数</h4><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@unittest]grep <span class="cm-attribute">-rn</span> Author axx</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>:Author: user &lt;family.name@xxx.com.cn&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">24391</span>: <span class="cm-attribute">-</span>// Author: axxb@google.com</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">25231</span>: <span class="cm-attribute">-</span>// Author: axxb@google.com</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre></blockquote><p>&nbsp;</p><blockquote><h4><a name='header-n142' class='md-header-anchor '></a>3、 grep -rn Author ./axx | less</h4><h4><a name='header-n143' class='md-header-anchor '></a>4、grep 只取2行</h4><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@unittest]grep <span class="cm-attribute">-m</span> <span class="cm-number">2</span> <span class="cm-attribute">-rn</span> Author axx</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>:Author: user &lt;family.name@xxx.com.cn&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">24391</span>: <span class="cm-attribute">-</span>// Author: axxb@google.com</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">或者</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[user@unittest]grep <span class="cm-attribute">-m2</span> <span class="cm-attribute">-rn</span> Author axx</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>:Author: user &lt;family.name@xxx.com.cn&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">24391</span>: <span class="cm-attribute">-</span>// Author: axxb@google.com</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 191px;"></div></div></div></pre><p>&nbsp;</p></blockquote><h2><a name='header-n147' class='md-header-anchor '></a>四、shell 得到精确的时间，纳秒级</h2><p><img src='2017-11/na_sec.png' alt='' /></p><p><img src='2017-11/date_cmd.png' alt='' /></p><h2><a name='header-n152' class='md-header-anchor '></a>五、putty 小工具，连接 ssh 小巧方便，只是不够强大</h2><h2><a name='header-n153' class='md-header-anchor '></a>六、windows 上一个播放 wav 的小程序</h2><pre class="md-fences md-end-block" lang="c"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;windows.h&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;stdlib.h&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//#pragma comment(lib, "winmm.lib")</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">argc</span>, <span class="cm-variable-3">char</span> <span class="cm-variable-3">**</span><span class="cm-variable">argc</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">PlaySound</span>(<span class="cm-string">"./data.wav"</span>, <span class="cm-variable">NULL</span>, <span class="cm-variable">SND_FILENAME</span> <span class="cm-operator">|</span> <span class="cm-variable">SND_ASNYC</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-comment">//system("pause");</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-keyword">return</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 237px;"></div></div></div></pre><blockquote><h4><a name='header-n156' class='md-header-anchor '></a>编译方法：</h4><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#gcc -g PlaySound.c -o PlaySound.exe -lwinmm</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre></blockquote><p>&nbsp;</p><h1><a name='header-n160' class='md-header-anchor '></a>2017-11-17</h1><h2><a name='header-n161' class='md-header-anchor '></a>[4:39]一大早研究 docker，费了好大力气,终于开局</h2><blockquote><h3><a name='header-n163' class='md-header-anchor '></a>1、以前从 github 下载源码自己编译的，应该也是好的，但是不会，把它删除了</h3><h3><a name='header-n164' class='md-header-anchor '></a>2、从 CSDN 上下载了一下现成的二进制 rpm包 <a href='2017-11/centos_docer_install.tar'>centos_docer_install.tar</a>,然后正常安装, <code>rpm -ivh centos_docer_install.tar</code>,但是安装后不会用，又删除了</h3><h3><a name='header-n165' class='md-header-anchor '></a>3、想再次重新安装，却因为刚刚的暴力删除，造成安装失败，一执行<code>rpm -ivh centos_docer_install.tar</code>就提示 docker 已经安装。于是只得再暴力安装</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#rpm -i --force --nodeps docker-engine-1.7.1-1.el6.x86_64.rpm</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">可以忽略所有依赖关系和文件问题，什么包</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">都能安装上，但这种强制安装的软件包不能保证完全发挥功能</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><h3><a name='header-n167' class='md-header-anchor '></a>4、安装提示成功后，再执行仍然失败</h3><h3><a name='header-n168' class='md-header-anchor '></a>5、由于 cent-os是连网的，于是利用网络命令安装</h3><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost <span class="cm-builtin">gcc</span>]<span class="cm-comment"># yum install y docker</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Loaded plugins: fastestmirror, langpacks</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">file:///mnt/cdrom/repodata/repomd.xml: [Errno <span class="cm-number">14</span>] <span class="cm-builtin">curl</span><span class="cm-comment">#37 - "Couldn't open file /mnt/cdrom/repodata/repomd.xml"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Trying other mirror.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Loading mirror speeds from cached hostfile</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">* epel: ae.mirror.rasanegar.com</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">No package y available.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Resolving Dependencies</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Running transaction check</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package docker.x86_64 <span class="cm-number">2</span>:1.12.6-61.git85d7426.el7.centos will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: docker-common <span class="cm-operator">=</span> <span class="cm-number">2</span>:1.12.6-61.git85d7426.el7.centos <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: docker-client <span class="cm-operator">=</span> <span class="cm-number">2</span>:1.12.6-61.git85d7426.el7.centos <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Running transaction check</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package docker-client.x86_64 <span class="cm-number">2</span>:1.12.6-61.git85d7426.el7.centos will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package docker-common.x86_64 <span class="cm-number">2</span>:1.12.6-61.git85d7426.el7.centos will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: oci-umount &gt;<span class="cm-operator">=</span> <span class="cm-number">2</span>:2.0.0-1 <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-common-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: oci-systemd-hook &gt;<span class="cm-operator">=</span> <span class="cm-number">1</span>:0.1.4-9 <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-common-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: oci-register-machine &gt;<span class="cm-operator">=</span> <span class="cm-number">1</span>:0-3.10 <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-common-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: container-storage-setup &gt;<span class="cm-operator">=</span> <span class="cm-number">0</span>.7.0-1 <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-common-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: container-selinux &gt;<span class="cm-operator">=</span> <span class="cm-number">2</span>:2.21-2 <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-common-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Dependency: skopeo-containers <span class="cm-keyword">for</span> package: <span class="cm-number">2</span>:docker-common-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Running transaction check</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package container-selinux.noarch <span class="cm-number">2</span>:2.28-1.git85ce147.el7 will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package container-storage-setup.noarch <span class="cm-number">0</span>:0.7.0-1.git4ca59c5.el7 will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package oci-register-machine.x86_64 <span class="cm-number">1</span>:0-3.13.gitcd1e331.el7 will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package oci-systemd-hook.x86_64 <span class="cm-number">1</span>:0.1.14-1.git1ba44c6.el7 will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package oci-umount.x86_64 <span class="cm-number">2</span>:2.0.0-1.git299e781.el7 will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">---</span>&gt; Package skopeo-containers.x86_64 <span class="cm-number">1</span>:0.1.24-1.dev.git28d4e08.el7 will be installed</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Conflict: docker-engine-1.7.1-1.el6.x86_64 conflicts docker</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Processing Conflict: docker-engine-1.7.1-1.el6.x86_64 conflicts docker-io</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">--</span>&gt; Finished Dependency Resolution</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Error: docker-engine conflicts with <span class="cm-number">2</span>:docker-1.12.6-61.git85d7426.el7.centos.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">You could try using <span class="cm-attribute">--skip-broken</span> to work around the problem</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">** Found <span class="cm-number">6</span> pre-existing rpmdb problem(s), <span class="cm-string">'yum check'</span> output follows:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ipa-admintools-4.4.0-14.el7.centos.7.noarch has installed conflicts freeipa-admintools: ipa-admintools-4.4.0-14.el7.centos.7.noarch</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ipa-client-4.4.0-14.el7.centos.7.x86_64 has installed conflicts freeipa-client: ipa-client-4.4.0-14.el7.centos.7.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ipa-client-common-4.4.0-14.el7.centos.7.noarch has installed conflicts freeipa-client-common: ipa-client-common-4.4.0-14.el7.centos.7.noarch</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ipa-common-4.4.0-14.el7.centos.7.noarch has installed conflicts freeipa-common: ipa-common-4.4.0-14.el7.centos.7.noarch</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ipa-server-4.4.0-14.el7.centos.7.x86_64 has installed conflicts freeipa-server: ipa-server-4.4.0-14.el7.centos.7.x86_64</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ipa-server-common-4.4.0-14.el7.centos.7.noarch has installed conflicts freeipa-server-common: ipa-server-common-4.4.0-14.el7.centos.7.noarch</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost <span class="cm-builtin">gcc</span>]<span class="cm-comment"># </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 1288px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1318px;"></div></div></div></pre><h3><a name='header-n170' class='md-header-anchor '></a>6、再次运行仍然不行，但是得到重要提示</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost centos_docer_install]<span class="cm-comment"># docker run hello-world</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Cannot connect to the Docker daemon. Is <span class="cm-string">'docker -d'</span> running on this host?</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 76px;"></div></div></div></pre><blockquote><h3><a name='header-n173' class='md-header-anchor '></a>人家提示，无法连接上 docker 后台，是否要在本机&#39;docker -d&#39;命令启动后台，于是尝试之</h3></blockquote><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost centos_docer_install]<span class="cm-comment"># docker -d</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Listening <span class="cm-keyword">for</span> HTTP on unix (/var/run/docker.sock) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] [graphdriver] using prior storage driver <span class="cm-string">"devicemapper"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Loading containers: <span class="cm-builtin">start</span>. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">......</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Loading containers: <span class="cm-keyword">done</span>. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Daemon has completed initialization &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Docker daemon &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-def">commit</span><span class="cm-operator">=</span>786b29d <span class="cm-def">execdriver</span><span class="cm-operator">=</span>native-0.2 <span class="cm-def">graphdriver</span><span class="cm-operator">=</span>devicemapper <span class="cm-def">version</span><span class="cm-operator">=</span><span class="cm-number">1</span>.7.1</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 237px;"></div></div></div></pre><h3><a name='header-n175' class='md-header-anchor '></a>7、然后再重新开启一个窗口</h3><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost <span class="cm-builtin">gcc</span>]<span class="cm-comment"># docker run hello-world</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Hello from Docker!</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">This message shows that your installation appears to be working correctly.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">To generate this message, Docker took the following steps:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span>. The Docker client contacted the Docker daemon.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>. The Docker daemon pulled the <span class="cm-string">"hello-world"</span> image from the Docker Hub.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span>. The Docker daemon created a new container from that image which runs the</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">executable that produces the output you are currently reading.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span>. The Docker daemon streamed that output to the Docker client, which sent it</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">to your terminal.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">To try something more ambitious, you can run an Ubuntu container with:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ docker</span> run <span class="cm-attribute">-it</span> ubuntu <span class="cm-builtin">bash</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Share images, automate workflows, and more with a free Docker ID:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">https://cloud.docker.com/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">For more examples and ideas, visit:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">https://docs.docker.com/engine/userguide/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost <span class="cm-builtin">gcc</span>]<span class="cm-comment"># docker run -it ubuntu bash</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Unable to <span class="cm-builtin">find</span> image <span class="cm-string">'ubuntu:latest'</span> locally</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">latest: Pulling from ubuntu</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">8db0bf403a0c: Downloading [<span class="cm-operator">===============</span>&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ] <span class="cm-number">15</span>.24 MB/47.62 MB</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">124b875a5a49: Download complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">67f5a73aac65: Download complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">d39138dcaf97: Download complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">87a858601d1a: Download complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">4c4d9bf9cff5: Download complete </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 736px;"></div><div class="CodeMirror-gutters" style="display: none; height: 766px;"></div></div></div></pre><blockquote><h3><a name='header-n178' class='md-header-anchor '></a>而在后台窗口，也在相应打印提示，先说没有找到 unbuntu 镜像，然后就开始从网上下载</h3></blockquote><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">..........................</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Loading containers: <span class="cm-keyword">done</span>. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Daemon has completed initialization &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Docker daemon &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-def">commit</span><span class="cm-operator">=</span>786b29d <span class="cm-def">execdriver</span><span class="cm-operator">=</span>native-0.2 <span class="cm-def">graphdriver</span><span class="cm-operator">=</span>devicemapper <span class="cm-def">version</span><span class="cm-operator">=</span><span class="cm-number">1</span>.7.1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0076] POST /v1.19/containers/create &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ERRO[0076] Handler <span class="cm-keyword">for</span> POST /containers/create returned error: No such image: hello-world (tag: latest) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ERRO[0076] HTTP Error &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-def">err</span><span class="cm-operator">=</span>No such image: hello-world (tag: latest) <span class="cm-def">statusCode</span><span class="cm-operator">=</span><span class="cm-number">404</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0076] POST /v1.19/images/create<span class="cm-def">?fromImage</span><span class="cm-operator">=</span>hello-world<span class="cm-def">&amp;tag</span><span class="cm-operator">=</span>latest </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0077] Trust graph fetch failed: Get https://dvjy3tqbc323p.cloudfront.net/trust/official.json: dial tcp: lookup dvjy3tqbc323p.cloudfront.net: no such host </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0085] POST /v1.19/containers/create &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">.............</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">......</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Loading containers: <span class="cm-keyword">done</span>. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Daemon has completed initialization &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0000] Docker daemon &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-def">commit</span><span class="cm-operator">=</span>786b29d <span class="cm-def">execdriver</span><span class="cm-operator">=</span>native-0.2 <span class="cm-def">graphdriver</span><span class="cm-operator">=</span>devicemapper <span class="cm-def">version</span><span class="cm-operator">=</span><span class="cm-number">1</span>.7.1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">^[^[INFO[0044] POST /v1.19/containers/create &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0045] POST /v1.19/containers/828c6b64cb77b9e3a4a0e3ef5b2ad989649f724ea2456caea4ad7697bef74b11/attach<span class="cm-def">?stderr</span><span class="cm-operator">=</span><span class="cm-number">1</span><span class="cm-def">&amp;stdout</span><span class="cm-operator">=</span><span class="cm-number">1</span><span class="cm-def">&amp;stream</span><span class="cm-operator">=</span><span class="cm-number">1</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0045] POST /v1.19/containers/828c6b64cb77b9e3a4a0e3ef5b2ad989649f724ea2456caea4ad7697bef74b11/start </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0045] POST /v1.19/containers/828c6b64cb77b9e3a4a0e3ef5b2ad989649f724ea2456caea4ad7697bef74b11/wait </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">^[[AINFO[0051] POST /v1.19/containers/create &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0051] POST /v1.19/containers/3c727a0fb1a27ecc44cafeb69b5a2463103f2c3197fc23158279f9e1317e0e9e/attach<span class="cm-def">?stderr</span><span class="cm-operator">=</span><span class="cm-number">1</span><span class="cm-def">&amp;stdout</span><span class="cm-operator">=</span><span class="cm-number">1</span><span class="cm-def">&amp;stream</span><span class="cm-operator">=</span><span class="cm-number">1</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0051] POST /v1.19/containers/3c727a0fb1a27ecc44cafeb69b5a2463103f2c3197fc23158279f9e1317e0e9e/start </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0051] POST /v1.19/containers/3c727a0fb1a27ecc44cafeb69b5a2463103f2c3197fc23158279f9e1317e0e9e/wait </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0081] POST /v1.19/containers/create &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ERRO[0081] Handler <span class="cm-keyword">for</span> POST /containers/create returned error: No such image: ubuntu (tag: latest) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ERRO[0081] HTTP Error &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-def">err</span><span class="cm-operator">=</span>No such image: ubuntu (tag: latest) <span class="cm-def">statusCode</span><span class="cm-operator">=</span><span class="cm-number">404</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0081] POST /v1.19/images/create<span class="cm-def">?fromImage</span><span class="cm-operator">=</span>ubuntu<span class="cm-def">&amp;tag</span><span class="cm-operator">=</span>latest </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0083] Trust graph fetch failed: Get https://dvjy3tqbc323p.cloudfront.net/trust/official.json: dial tcp: lookup dvjy3tqbc323p.cloudfront.net: no such host </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">INFO[0194] POST /v1.19/containers/create &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">.............</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 1104px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1134px;"></div></div></div></pre><blockquote><h3><a name='header-n181' class='md-header-anchor '></a>然后，ubuntu下载完毕后， docker 自动运行了 ubuntu操作系统，并且登录了进去</h3></blockquote><pre class="md-fences md-end-block" lang="" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost gcc]# docker run -it ubuntu bash</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Unable to find image 'ubuntu:latest' locally</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">latest: Pulling from ubuntu</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">8db0bf403a0c: Pull complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">124b875a5a49: Pull complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">67f5a73aac65: Pull complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">d39138dcaf97: Pull complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">87a858601d1a: Pull complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">4c4d9bf9cff5: Pull complete </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Digest: sha256:2018a8979db0980f75e0f24f0a03a6ccac0a556f213fa208df6a37c7eb7d4c04</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Status: Downloaded newer image for ubuntu:latest</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# docker ps</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">bash: docker: command not found</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# docker</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">bash: docker: command not found</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# docker -v</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">bash: docker: command not found</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# pwd</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# whoami</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# uname -a</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Linux cb424c616961 3.10.0-514.26.2.el7.x86_64 #1 SMP Tue Jul 4 15:04:05 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# pwd</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# ls</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# df -h</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Filesystem &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Size  Used Avail Use% Mounted on</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/dev/mapper/docker-253:0-86680145-cb424c6169618b69dd00c6b0d2665b9663daca8348476e45ecc8ff58ba17ca82  9.8G  143M  9.1G &nbsp; 2% /</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">tmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.1G &nbsp; &nbsp; 0  2.1G &nbsp; 0% /dev</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">shm &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  64M &nbsp; &nbsp; 0 &nbsp; 64M &nbsp; 0% /dev/shm</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/dev/mapper/cl-root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  50G &nbsp; 21G &nbsp; 30G  41% /etc/hosts</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# uname</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Linux</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# cat /proc/sys</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sys/ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sysrq-trigger  sysvipc/ &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# cat /proc/sys</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sys/ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sysrq-trigger  sysvipc/ &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# cat /proc/version</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Linux version 3.10.0-514.26.2.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-11) (GCC) ) #1 SMP Tue Jul 4 15:04:05 UTC 2017</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# docker -v</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">bash: docker: command not found</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@cb424c616961:/# </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 1196px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1226px;"></div></div></div></pre><h3><a name='header-n183' class='md-header-anchor '></a>8、再次查看有哪些 docker 进程在运行</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost wishcell]<span class="cm-comment"># docker ps -a</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">CONTAINER ID &nbsp; &nbsp; &nbsp;  IMAGE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMMAND &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STATUS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  PORTS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NAMES</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cb424c616961 &nbsp; &nbsp; &nbsp;  ubuntu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"bash"</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">12</span> minutes ago &nbsp; &nbsp;  Up <span class="cm-number">12</span> minutes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thirsty_turing &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3c727a0fb1a2 &nbsp; &nbsp; &nbsp;  hello-world &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-string">"/hello"</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">15</span> minutes ago &nbsp; &nbsp;  Exited (0) <span class="cm-number">15</span> minutes ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; agitated_fermi &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">828c6b64cb77 &nbsp; &nbsp; &nbsp;  hello-world &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-string">"/hello"</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">15</span> minutes ago &nbsp; &nbsp;  Exited (0) <span class="cm-number">15</span> minutes ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sharp_cray &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">79d253eb9103 &nbsp; &nbsp; &nbsp;  hello-world &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-string">"/hello"</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">38</span> minutes ago &nbsp; &nbsp;  Exited (0) <span class="cm-number">38</span> minutes ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jolly_carson &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">2f242f5099d2 &nbsp; &nbsp; &nbsp;  hello-world &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-string">"/hello"</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">38</span> minutes ago &nbsp; &nbsp;  Exited (0) <span class="cm-number">38</span> minutes ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stoic_tesla &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1859c5411177 &nbsp; &nbsp; &nbsp;  hello-world &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-string">"/hello"</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">38</span> minutes ago &nbsp; &nbsp;  Exited (0) <span class="cm-number">38</span> minutes ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mad_fermat &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost wishcell]<span class="cm-comment"># </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 368px;"></div><div class="CodeMirror-gutters" style="display: none; height: 398px;"></div></div></div></pre><h3><a name='header-n185' class='md-header-anchor '></a>9、至此，docker 算是开局成功，中间一个步骤不知是否有影响，补充在此</h3><blockquote><h4><a name='header-n187' class='md-header-anchor '></a>docker error: /var/run/docker.sock: no such file or directory的问题</h4></blockquote><pre class="md-fences md-end-block" lang="" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">用boot2docker时，如果看到下面的问题，可以尝试用下面提供的解决方案：</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">FATA[0000] Get http:///var/run/docker.sock/v1.18/version: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">dial unix /var/run/docker.sock: no such file or directory. &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Are you trying to connect to a TLS-enabled daemon without TLS?</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">步骤1：</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>boot2docker start</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>boot2docker shellinit</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">步骤2:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>export DOCKER_CERT_PATH=C:\Users\vonc\.boot2docker\certs\boot2docker-vm</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>export DOCKER_TLS_VERIFY=1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>export DOCKER_HOST=tcp://192.168.59.103:2376</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">步骤3:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">boot2docker ssh</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Then the docker works again</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 391px;"></div><div class="CodeMirror-gutters" style="display: none; height: 421px;"></div></div></div></pre><p>&nbsp;</p></blockquote><h2><a name='header-n191' class='md-header-anchor '></a>[6:15]在网站<a href='https://hub.docker.com/' target='_blank' >https://hub.docker.com/</a>上注册成功</h2><p>&nbsp;</p><blockquote><h3><a name='header-n195' class='md-header-anchor '></a>docker 常用命令</h3><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span>、docker <span class="cm-attribute">-h</span> 帮助</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>、获取镜像</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker pull NAME[:TAG]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker pull centos:latest</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span>、启动Container盒子</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>sudp docker run <span class="cm-attribute">-t</span> <span class="cm-attribute">-i</span> contos /bin/bash</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span>、查看镜像列表，列出本地的所有images</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker images [OPTIONS] [NAME]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker images centos</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span>、查看容器列表，可看到我们创建过的所有container</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">ps</span> [OPTIONS]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">ps</span> <span class="cm-attribute">-a</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span>、删除镜像，从本地删除一个已经下载的镜像</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker rmi IMAGE [IMAGE...]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker rmi centos:latest</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">7</span>、移除一个或多个容器实例</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">rm</span> [OPTIONS] CONTAINER [CONTAINER...]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">移除所有微运行的容器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">rm</span> <span class="cm-builtin">sudo</span> docker <span class="cm-builtin">ps</span> <span class="cm-attribute">-aq</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">8</span>、停止一个正在运行的容器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">kill</span> [OPTIONS] CONTAINER [CONTAINNER...]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">kill</span> 026e</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">9</span>、重启一个正在运行的容器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">restart</span> [OPTIONS] contains[CONTAINER]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">restart</span> 026e</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span>、停止一个已经停止的容器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">start</span> [OPTIONS] CONTAINER [CONTAINER..]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">sudo</span> docker <span class="cm-builtin">start</span> 026e</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 667px;"></div><div class="CodeMirror-gutters" style="display: none; height: 697px;"></div></div></div></pre><p>&nbsp;</p></blockquote><h1><a name='header-n199' class='md-header-anchor '></a>2017-11-19</h1><h2><a name='header-n200' class='md-header-anchor '></a>[22:06]shttpd确实是人家作者提供了现成的接口</h2><blockquote><h3><a name='header-n202' class='md-header-anchor '></a>程序最初的注册功能， shttpd_register_url其实就是说，哪个 url 要交给哪个函数处理,这是自己写服务器无法解决的大问题</h3></blockquote><h2><a name='header-n203' class='md-header-anchor '></a>grep 查找的一个小技巧</h2><blockquote><h3><a name='header-n205' class='md-header-anchor '></a><code>[user@ dir# grep -rn SNMPADDR_T ./ | grep &#39;\.h&#39;</code>,必须将点转义，否则会被当作通配符</h3></blockquote><p>&nbsp;</p><h2><a name='header-n208' class='md-header-anchor '></a>linux 安装 snmp原来很简单</h2><blockquote><h3><a name='header-n210' class='md-header-anchor '></a>安装成功后，验证之：</h3><pre class="md-fences md-end-block" lang="python"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#snmpget -v2c -c public 10.63.180.115 .1.3.6.1.4.1.3902.1086.3.1.5.2.1.1.1.4.2</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><h3><a name='header-n212' class='md-header-anchor '></a>snmp也可以获取设备全部信息,这是一个通用OID</h3><pre class="md-fences md-end-block" lang="sh"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#snmpwalk -v2c -c public 10.63.180.115 .1.3.6.1.2.1.1</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><p>&nbsp;</p></blockquote><h2><a name='header-n216' class='md-header-anchor '></a>linux 下安装 net-snmp的方法</h2><blockquote><h3><a name='header-n218' class='md-header-anchor '></a>官网下载 net-snmp5.7.3，下载到 centos7，然后 ./configure &amp;&amp; make &amp;&amp; make install,第一次编译报错，然后 make clean &amp;&amp; make &amp;&amp; make install,竟然成功了</h3><h3><a name='header-n219' class='md-header-anchor '></a>==》》但是在自家电脑虚拟机上尝试失败。</h3><h3><a name='header-n220' class='md-header-anchor '></a>==》》由于家中虚拟机可以连接外网，于是尝试,竟然成功</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#yum install net-snmp</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><h3><a name='header-n222' class='md-header-anchor '></a>成功之后，将 snmpd 服务开启，</h3><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost net-snmp]<span class="cm-comment"># systemctl restart snmpd</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost net-snmp]<span class="cm-comment"># service snmpd status &nbsp; </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Redirecting to /bin/systemctl status  snmpd.service</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">● snmpd.service <span class="cm-attribute">-</span> Simple Network Management Protocol (SNMP) Daemon.</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Loaded: loaded (/usr/lib/systemd/system/snmpd.service; disabled; vendor preset: disabled)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Active: active (running) since Mon <span class="cm-number">2017</span><span class="cm-attribute">-11-20</span> <span class="cm-number">11</span>:11:37 EST; 17s ago</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Main PID: <span class="cm-number">22776</span> (snmpd)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Memory: <span class="cm-number">4</span>.3M</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">CGroup: /system.slice/snmpd.service</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">└─22776 /usr/sbin/snmpd <span class="cm-attribute">-LS0-6d</span> <span class="cm-attribute">-f</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Nov <span class="cm-number">20</span> <span class="cm-number">11</span>:11:37 localhost.localdomain systemd[1]: Starting Simple Network Management Protocol (SNMP) Daemon....</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Nov <span class="cm-number">20</span> <span class="cm-number">11</span>:11:37 localhost.localdomain snmpd[22776]: NET-SNMP version <span class="cm-number">5</span>.7.2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Nov <span class="cm-number">20</span> <span class="cm-number">11</span>:11:37 localhost.localdomain systemd[1]: Started Simple Network Management Protocol (SNMP) Daemon..</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost net-snmp]<span class="cm-comment"># </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 391px;"></div><div class="CodeMirror-gutters" style="display: none; height: 421px;"></div></div></div></pre><h3><a name='header-n224' class='md-header-anchor '></a>然后在其它机器上获取mib量</h3><blockquote><h3><a name='header-n226' class='md-header-anchor '></a>先在 centos开启服务</h3></blockquote><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root@localhost net-snmp]<span class="cm-comment"># /usr/sbin/snmpd </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost net-snmp]<span class="cm-comment"># ps -ef | grep snmpd</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root &nbsp; &nbsp; <span class="cm-number">29059</span> &nbsp; &nbsp; <span class="cm-number">1</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">23</span>:01 ? &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">00</span>:00:00 /usr/sbin/snmpd</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">root &nbsp; &nbsp; <span class="cm-number">29070</span> <span class="cm-number">19318</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">23</span>:02 pts/2 &nbsp; &nbsp;<span class="cm-number">00</span>:00:00 <span class="cm-builtin">grep</span> <span class="cm-attribute">--color</span><span class="cm-operator">=</span>auto snmpd</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[root@localhost net-snmp]<span class="cm-comment"># </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 145px;"></div></div></div></pre><blockquote><h3><a name='header-n229' class='md-header-anchor '></a>然后在 cygwin 里面获取 centos 中的 mib 量</h3></blockquote><p><img src='2017-11/snmp_walk_mib_from_centos.png' alt='' /></p><p>&nbsp;</p></blockquote><h2><a name='header-n234' class='md-header-anchor '></a>[22:47]一个bitmap的实现，比特表数组</h2><pre class="md-fences md-end-block" lang="c"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;stdio.h</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#define BYTE unsigned char</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">tmp_flag</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#define BITMAP_SET(bitMap, gBitLoc, bitVal) \</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-meta">tmp_flag=((bitVal)==0) ? &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  \</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-meta">((bitMap)[((gBitLoc)-1)/8] = ((bitMap)[((gBitLoc)-1)/8]&amp;(~((BYTE)(1&lt;&lt;(7-((gBitLoc)-1)%8))))) : &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  \</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-meta">((bitMap)[((gBitLoc)-1)/8] = ((bitMap)[((gBitLoc)-1)/8]|((BYTE)(1&lt;&lt;(7-((gBitLoc)-1)%8)))))<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 237px;"></div></div></div></pre><blockquote><h4><a name='header-n237' class='md-header-anchor '></a>上图</h4></blockquote><p><img src='2017-11/bitMap.jpg' alt='bitMap.jpg' /></p><p>&nbsp;</p><h2><a name='header-n242' class='md-header-anchor '></a>23:02 得到人家一份加密算法共享代码</h2><blockquote><h3><a name='header-n244' class='md-header-anchor '></a><code>https://github.com/zhangdongyue/AES128cbc</code>，能编译运行通过，但是未深入研读代码</h3><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Administrator@WINDOWS-EQN68ID /cygdrive/e/study/algorithm/AES128cbc</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ make</span> <span class="cm-attribute">-j32</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> main.o main.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> aes128_com.o aes128_com.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> aes128dec.o aes128dec.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> aes128enc.o aes128enc.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> common.o common.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> euclid_gcb.o euclid_gcb.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> GF_2sup8.o GF_2sup8.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cc</span> &nbsp; &nbsp;<span class="cm-attribute">-c</span> <span class="cm-attribute">-o</span> s_box.o s_box.c</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ar rs libaes128.a aes128_com.o aes128dec.o aes128enc.o common.o euclid_gcb.o GF_2sup8 &nbsp; &nbsp;  .o s_box.o</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ar: 正在创建 libaes128.a</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">gcc</span> &nbsp;<span class="cm-attribute">-o</span> test main.o libaes128.a</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Administrator@WINDOWS-EQN68ID /cygdrive/e/study/algorithm/AES128cbc</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ </span>./test.exe</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">e6fc19f8d269588524c00008fb1a572f</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3243f6a8885a308d313198a2e0370734</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">ptlen</span><span class="cm-operator">=</span><span class="cm-number">16</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Administrator@WINDOWS-EQN68ID /cygdrive/e/study/algorithm/AES128cbc</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 575px;"></div><div class="CodeMirror-gutters" style="display: none; height: 605px;"></div></div></div></pre><p>&nbsp;</p></blockquote><h2><a name='header-n248' class='md-header-anchor '></a>[23:04]精心制作的字符操作脚本</h2><h3><a name='header-n249' class='md-header-anchor '></a>欲将搜索命令</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">sed</span> <span class="cm-attribute">-i</span> <span class="cm-attribute">-e</span> <span class="cm-string">'s/orig_str/dest_str/g'</span> <span class="cm-quote">`grep -rn orig_str ./ -rl`</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 53px;"></div></div></div></pre><h3><a name='header-n251' class='md-header-anchor '></a>做成通用命令 replace.sh</h3><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> [<span class="cm-string">"</span><span class="cm-def">$#</span><span class="cm-string">"</span> <span class="cm-attribute">-lt</span> <span class="cm-number">2</span> ];then</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-builtin">echo</span> <span class="cm-string">"error,please input src_str dest_str"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">exit</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">fi</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-def">$2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">echo</span> <span class="cm-quote">`grep -rn </span><span class="cm-def">$1</span><span class="cm-quote"> ./ -rl`</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">sed</span> <span class="cm-attribute">-i</span> <span class="cm-attribute">-e</span> <span class="cm-string">'s/$1/$2/g'</span> <span class="cm-quote">`grep -rn </span><span class="cm-def">$1</span><span class="cm-quote"> ./ -rl`</span> &nbsp;<span class="cm-comment">##这里的单引号应改为双引号</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 214px;"></div></div></div></pre><p><img src='2017-11/grep_shell.png' alt='grep_shell.png' /></p><p>&nbsp;</p><h2><a name='header-n257' class='md-header-anchor '></a>[23:12]人家写的 bootstrap css 实现表格可增删功能</h2><blockquote><h3><a name='header-n259' class='md-header-anchor '></a>代码尚未研究<a href = "http://blog.csdn.net/wangmei4968/aritcle/details/48437175"><a href='http://blog.csdn.net/wangmei4968/aritcle/details/48437175' target='_blank' >http://blog.csdn.net/wangmei4968/aritcle/details/48437175</a></a></h3></blockquote><p>&nbsp;</p><p>&nbsp;</p><h1><a name='header-n264' class='md-header-anchor '></a>2017-11-20</h1><h2><a name='header-n265' class='md-header-anchor '></a>struct 中定义union 变量</h2><p><img src='2017-11/testUnion.png' alt='' /></p><h3><a name='header-n268' class='md-header-anchor '></a>使用 vimdiff 查看到的结果：</h3><p><img src='2017-11/vimdiff_testUnion.png' alt='' /></p><p>&nbsp;</p><h2><a name='header-n273' class='md-header-anchor '></a>[21:15]讲述net-snmp agent 开发的例子,甚详</h2><p><a href='./net-snmp-develop.md'>net-snmp-develop.md</a></p><p>&nbsp;</p><h1><a name='header-n278' class='md-header-anchor '></a>2017-11-23</h1><h2><a name='header-n279' class='md-header-anchor '></a>[22:17] go语言安装</h2><blockquote><h3><a name='header-n281' class='md-header-anchor '></a>安装包在这里<a href='2017-11/go1.8.3.linux-amd64.tar.gz'>go-pakage</a>,具体的安装步骤：</h3><pre class="md-fences mock-cm md-end-block" lang="">http://blog.csdn.net/WuxCSDN/article/details/72872568
</pre><h4><a name='header-n283' class='md-header-anchor '></a>1<strong>、准备go安装包</strong></h4><p>​	<code>[https://golang.org/doc/install?download=go1.8.3.linux-amd64.tar.gz](https://golang.org/doc/install?download=go1.8.3.linux-amd64.tar.gz)</code></p><h4><a name='header-n286' class='md-header-anchor '></a><strong>2、选择安装路径</strong></h4><pre class="md-fences mock-cm md-end-block" lang="">由于默认的go路径，在/usr/local下， 所以用如下命令，解压创建/usr/local/go 
tar -C /usr/local -xzf go1.8.3.linux-amd64.tar.gz 
</pre><h4><a name='header-n288' class='md-header-anchor '></a><strong>3、添加PATH环境变量</strong></h4><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">vi</span> /etc/profile </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">然后加入下面这行: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">PATH</span><span class="cm-operator">=</span><span class="cm-def">$PATH</span>:/usr/local/go/bin </span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><h4><a name='header-n290' class='md-header-anchor '></a><strong>4、建立Go的工作空间（workspace，也就是GOPATH环境变量指向的目录）</strong></h4><pre class="md-fences mock-cm md-end-block" lang="">GO代码必须在工作空间内。工作空间是一个目录，其中包含三个子目录： 
src —- 里面每一个子目录，就是一个包。包内是Go的源码文件 
pkg —- 编译后生成的，包的目标文件 
bin —- 生成的可执行文件。 
这里，我们在/home目录下, 建立一个名为gopath(可以不是gopath, 任意名字都可以)的文件夹， 
然后再建立三个子文件夹(子文件夹名必须为src、pkg、bin)。如下图
</pre><p><img src='2017-11/go_path.png' alt='' /></p><h4><a name='header-n294' class='md-header-anchor '></a><strong>5、设置GOPATH环境变量</strong></h4><pre class="md-fences md-end-block" lang="shell"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">vi</span> /etc/profile </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">然后加入下面这行: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-def">GOPATH</span><span class="cm-operator">=</span>/home/gopath </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">保存后，执行以下命令，使环境变量立即生效: </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">source</span> /etc/profile </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">至此，Go语言的环境已经安装完毕。下面开始 HelloWorld喽~</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 168px;"></div></div></div></pre><p>&nbsp;</p></blockquote><h2><a name='header-n298' class='md-header-anchor '></a>[22:22] ngrok 自己用源码搭建</h2><blockquote><h3><a name='header-n300' class='md-header-anchor '></a>源码包在这里<a href='2017-11/ngrok.tar'>ngrok-package</a></h3><h4><a name='header-n301' class='md-header-anchor '></a>然后很简单的，先按上述说明安装好 go 语言环境，直接 make 就可以了。在当前目录下 ./bin/ 下面会生成  ngrok 和 ngrokd</h4><p>&nbsp;</p><h4><a name='header-n304' class='md-header-anchor '></a><code>如何运行你自己的ngrokd服务器</code></h4><h4><a name='header-n305' class='md-header-anchor '></a><code>http://blog.csdn.net/shikewei0103/article/details/41284815</code></h4><pre class="md-fences md-end-block" lang="shell" style="break-inside: unset;"> <div class="CodeMirror cm-s-inner CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 30px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">运行自己的ngrok的服务器是很容易！下面的说明将帮助你走好人生路！</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span>.获取SSL证书</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ngrok通过TLS提供安全通道，所以你需要一个SSL证书。假设你要创建的*.example.com的隧道，买一个通配符SSL证书*.example.com的。请注意，如果你不需要运行HTTPS隧道，你并不需要一个通配符证书。（事实上，你可以使用自签名的证书，在这一点上，看到该文件在以后的章节）。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span>.修改你的DNS</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">您需要使用提供给您的DNS管理工具，通过您的供应商来创建一个指向*.example.com的到服务器在那里你会运行ngrokd的IP地址的记录。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span>.编译</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">你可以编译ngrokd服务器使用下面的命令：</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">使发布服务器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">请确保你设置你的目标服务器的平台GOOS/ GOARCH环境变量编译。然后在复制二进制文件到您的服务器。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span>.运行服务器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">你会运行在服务器上使用下面的命令。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">./ngrokd <span class="cm-attribute">-tlsKey</span><span class="cm-operator">=</span><span class="cm-string">"/path/to/tls.key"</span> <span class="cm-attribute">-tlsCrt</span><span class="cm-operator">=</span><span class="cm-string">"/path/to/tls.crt"</span> <span class="cm-attribute">-domain</span><span class="cm-operator">=</span><span class="cm-string">"example.com"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">指定您的TLS证书和密钥</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ngrok不仅使TLS加密连接。当您运行ngrokd，你需要指示它在哪里可以找到你的TLS证书和私钥。指定与以下开关路径：</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">-tlsKey</span><span class="cm-operator">=</span><span class="cm-string">"/path/to/tls.key"</span> <span class="cm-attribute">-tlsCrt</span><span class="cm-operator">=</span><span class="cm-string">"/path/to/tls.crt"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">设置服务器的域</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">当你运行你自己的ngrokd服务器，你需要告诉ngrokd它的运行，以便它知道什么网址发给客户的域。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">-domain</span><span class="cm-operator">=</span>“example.com”</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span>.配置客户端</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">为了与客户端连接，你需要设置两个选项ngrok的配置文件。该ngrok配置文件是由〜/.ngrok读默认情况下，简单的YAML文件。您可以指定与-config开关自定义配置文件路径。你的配置文件必须包含以下两个选项。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">server_addr: example.com:4443</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">trust_host_root_certs: <span class="cm-atom">true</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">用您的ngrokd服务器的地址为“example.com:4443”。在“trust_host_root_certs”参数指示建立TLS连接到服务器时ngrok信任的根证书在计算机上。默认情况下，ngrok只信任的ngrok.com根证书。</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span>.将与客户端</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">然后，只需运行ngrok像往常一样安全地连接到你自己的ngrokd服务器！</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ngrok80</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ngrokd使用自签名的SSL证书</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">它可能与AA自签名证书运行ngrokd，但你需要重新编译ngrok与您的签名CA.如果您选择使用自签名的证书，请注意，您必须删除配置价值trust_host_root_certs或将其设置为false：</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">trust_host_root_certs：false</span></pre></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 1265px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1295px;"></div></div></div></pre><h3><a name='header-n307' class='md-header-anchor '></a>尚未动手验证，时间过的太快，已经 22:27,但是收获是 ngrokd 在本地运行起来了，而且本地的 ngrok 可以成功连接上 ngrokd ，只是ngrokd 没有把数据派发给 ngrok.</h3><p>&nbsp;</p></blockquote><p>&nbsp;</p><h1><a name='header-n312' class='md-header-anchor '></a>2017-11-25</h1><h2><a name='header-n313' class='md-header-anchor '></a>[21:03]孙悟空网<a href='http://www.72swk.com/task_list-indus_pid-469-page-2.html' target='_blank' >http://www.72swk.com/task_list-indus_pid-469-page-2.html</a></h2><blockquote><h3><a name='header-n315' class='md-header-anchor '></a>使用 coding 账号</h3></blockquote><p>&nbsp;</p><h1><a name='header-n318' class='md-header-anchor '></a>2017-11-26</h1><h2><a name='header-n319' class='md-header-anchor '></a>[10:00]成功将家中电脑 web-server101.45.176.37部署到外网</h2><blockquote><h3><a name='header-n321' class='md-header-anchor '></a>1、将自己PC的 web-server端口设置为8080(如 shttpd)</h3><p><img src='2017-11/start_up_shttpd_8080_port.png' alt='' /></p><p>&nbsp;</p><h3><a name='header-n326' class='md-header-anchor '></a>2、配置路由器</h3><p><img src='2017-11/cfg_route_for_web_server.png' alt='cfg_route_for_web_server.png' /></p><p>&nbsp;</p><h3><a name='header-n331' class='md-header-anchor '></a>3、想办法得到路由器在外网上的ip</h3><h4><a name='header-n332' class='md-header-anchor '></a>A、利用外网获取</h4><p><img src='2017-11/baidu_local_ip.png' alt='' /></p><h4><a name='header-n335' class='md-header-anchor '></a>B、到自己的路由器上去查看</h4><p><img src='2017-11/get_route_ip.png' alt='' /></p><blockquote><h4><a name='header-n339' class='md-header-anchor '></a>但是，路由器一旦重启，其外网IP就会发生变化，甚是烦人</h4><p><img src='2017-11/route_ip_after_reboot.png' alt='' /></p></blockquote><p>&nbsp;</p><h3><a name='header-n344' class='md-header-anchor '></a>4、在外网访问自己的web-server</h3><p><img src='2017-11/browse_web_from_internet.png' alt='' /></p><h3><a name='header-n347' class='md-header-anchor '></a>5、问题</h3><h4><a name='header-n348' class='md-header-anchor '></a>每次路由器重启之后， 路由器的 ip 会发生变化，PC 的 IP也会发生变化</h4><h4><a name='header-n349' class='md-header-anchor '></a>6、解决方案</h4><h5><a name='header-n350' class='md-header-anchor '></a>A、利用域名解析，已经在百度购买域名解析服务，但是使用不便</h5><h4><a name='header-n351' class='md-header-anchor '></a>B、自己写一个程序，主动上报路由器IP。一旦路由器重启，IP发生变化，就     	                给自己的139邮箱发邮件，目前技术可行,随便一个脚本搞定</h4><h4><a name='header-n352' class='md-header-anchor '></a>C、将WEB-SERVER部署在虚拟机上，免得坏人搞破坏</h4><h5><a name='header-n353' class='md-header-anchor '></a>D、将PC设置成静态IP</h5><p>&nbsp;</p><h4><a name='header-n356' class='md-header-anchor '></a>7、怎样利用百度 域名解析功能</h4><h4><a name='header-n357' class='md-header-anchor '></a>经与百度云客服沟通。明确在不备案的情况下，用自己主机，无法访问（尽管此时不用域名，也能成功访问，但是总是不便）</h4><h4><a name='header-n358' class='md-header-anchor '></a>但是如果用境外主机，则无需备案，就可以正常访问，这是逼我选选择境外主机啊，不然域名就浪费了。如果国外网站可以访问家中电脑，而国内域名可以访问国外电脑。那就实现间接访问家中电脑</h4><p>&nbsp;</p></blockquote><p>&nbsp;</p><h2><a name='header-n363' class='md-header-anchor '></a>[10:52]搭建自己 ngrok 的文档，相对比较完整</h2><blockquote><h3><a name='header-n365' class='md-header-anchor '></a>原网址：<a href='http://blog.csdn.net/u013216667/article/details/50782084' target='_blank' >http://blog.csdn.net/u013216667/article/details/50782084</a></h3><h4><a name='header-n366' class='md-header-anchor '></a>下载到本地：<a href='2017-11/%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84ngrok%E6%9C%8D%E5%8A%A1%20-%20CSDN%E5%8D%9A%E5%AE%A2.html'>搭建自己的ngrok服务</a></h4></blockquote><p>&nbsp;</p><h2><a name='header-n369' class='md-header-anchor '></a>[20:20]13时许出门，然后直接去公司，将代码优化一下</h2><p>&nbsp;</p><h1><a name='header-n372' class='md-header-anchor '></a>2017-11-29</h1><h2><a name='header-n373' class='md-header-anchor '></a>[20:46]今日学习内容， valgrind --tool=massif --stacks=yes ./ut</h2><blockquote><h3><a name='header-n375' class='md-header-anchor '></a>主要学习内容，来自 valgrind 官网的阅读,<a href='http://valgrind.org/docs/manual/ms-manual.html' target='_blank' >http://valgrind.org/docs/manual/ms-manual.html</a>，重要部分翻译如下：</h3><p><img src='2017-11/valgrind-massif.png' alt='' /></p><pre class="md-fences mock-cm md-end-block" lang="" style="break-inside: unset;">1、 valgrind --tool=massif --stacks=yes ./ut
记录 heap, 额外 heap（用于内存管理、字节对齐等），默认 stack 功能不开
2、 massif 能检测 memcheck 发现不了的问题
3、运行 valgrind --tool=massif --stacks=yes ./ut
得到输出文件 massif.out.12345
查看其内容的方法：ms_print massif.out.12345
或者直接使用 vi 命令查看
4、对图像解释

Number of snapshots: 25 ==&gt;&gt;共有三个详细快照
Detailed snapshots: [9, 14 (peak), 24] 它们分别是 9、14、24

每个竖线代表一次快照，横线表示到下次快照之前的状态
默认最多只有100条 snapshots,每次申请/释放内存，都会产生一个快照
随着程序运行时间越来越久，它采集 snapshots 的频率会越来越低。还会将原来已经采集到的 snapshots 丢弃。
当达到最大值时，将有一半的 snapshots 被丢掉。所以每次执行程序，都应当配置合理的 --max-snapshots 值。
snapshots 主要是普通快照，detailed 隔一段有一个， peak 只会有一个

5、massif 检测到的峰值可能不对，因为
	A、峰值只有在释放的时候才采集。如果程序只有采集而无释放，所以如果代码里面只有 malloc 而无free。所以峰值就只能在最后才能发现，或者无法检测到
	B、massif 检测到的峰值可能与实际值相差 1%，可以用命令行 --peak-inaccuracy 配置

6、图像下方的数字说明
</pre><p><img src='2017-11/valgrind-massif-detailed.png' alt='' /></p><p><img src='2017-11/valgrind-massif-fileName.png' alt='' /></p><p>7、 <code>--pages-as-heap=yes</code> 不能与 &#39;--stacks=yes&#39;同用</p><p>&nbsp;</p></blockquote><p>&nbsp;</p><h2><a name='header-n395' class='md-header-anchor '></a><a href='./2017-10.html'>上月</a>                           <a href='#jump'>顶部</a>                                   <a href='./2017-12.html'>下月</a></h2><p>&nbsp;</p><p>&nbsp;</p></div>
</body>
</html>