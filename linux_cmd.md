#<center>linux 命令</center>

<span id='jump'></span>

[TOC]

# 一、 linux 切换 IP 后，快速恢复网络

## 1、将常用命令保存在`/readme`中

```powershell
[wishcell@localhost ~]$
[wishcell@localhost ~]$ cat /readme
ifconfig enp0s3 192.168.43.222 netmask 255.255.255.0 up
ifconfig enp0s3 192.168.1.222 netmask 255.255.255.0 up

vim /etc/resolv.conf
vim /etc/sysconfig/network-scripts/ifcfg-enp0s3
service network restart
[wishcell@localhost ~]$
```

## 2、查看配置文件

```powershell
[wishcell@localhost ~]$ cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 8.8.8.8
nameserver 8.8.4.4
[wishcell@localhost ~]$
```

## 3、修改配置文件`/etc/sysconfig/network-scripts/ifcfg-enp0s3`

```powershell
vim /etc/sysconfig/network-scripts/ifcfg-enp0s3

#PROXY_METHOD=none
#BROWSER_ONLY=no
#BOOTPROTO=dhcp
#DEFROUTE=yes
#IPV4_FAILURE_FATAL=no
#IPV6INIT=yes
#IPV6_AUTOCONF=yes
#IPV6_DEFROUTE=yes
#IPV6_FAILURE_FATAL=no
#IPV6_ADDR_GEN_MODE=stable-privacy
#NAME=enp0s3
#UUID=021a3d3d-b514-4292-b6d2-115c44a53e2a


TYPE=Ethernet
DEVICE=enp0s3
ONBOOT=yes
BOOTPROTO=static
#IPADDR=192.168.43.222
IPADDR=192.168.1.222
NETMASK=255.255.255.0
#NETWORK=192.168.43.0
NETWORK=192.168.1.0
#BROADCAST=192.168.43.255
BROADCAST=192.168.1.255
#GATEWAY=192.168.43.1
GATEWAY=192.168.1.1

DNS1=8.8.8.8
DNS2=8.8.4.4
```

## 4、重启网络

```powershell
[root@localhost wishcell]# service network restart
Restarting network (via systemctl):                        [  OK  ]
[root@localhost wishcell]# 
```

## 5、配置网卡上线

```powershell
# ifconfig enp0s3 192.168.1.222 netmask 255.255.255.0 up
```

## 6、 ping 通外网

```powershell
[root@localhost wishcell]# ping www.baidu.com -c 3
PING www.a.shifen.com (119.75.216.20) 56(84) bytes of data.
64 bytes from 119.75.216.20 (119.75.216.20): icmp_seq=1 ttl=54 time=36.8 ms
64 bytes from 119.75.216.20 (119.75.216.20): icmp_seq=2 ttl=54 time=50.5 ms
64 bytes from 119.75.216.20 (119.75.216.20): icmp_seq=3 ttl=54 time=35.6 ms

--- www.a.shifen.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2330ms
rtt min/avg/max/mdev = 35.697/41.031/50.561/6.758 ms
[root@localhost wishcell]#
```

# 二、





# 三、



# 四、



# 五、



# 六、



# 七、



